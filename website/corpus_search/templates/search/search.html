{% extends 'base.html' %}
{% load mathfilters %}

{% block title %} Search {% endblock %}

{% block body %}
    <style>
        .btn-plus:hover,
        .btn-times:hover {
            cursor: pointer;
        }
        .btn-times,
        .btn-plus {
            align-self: center;
            font-size: 14px;
        }
        .btn-plus {color: #2f855a}
        .btn-times {color: #a41515}
        .p-2 {
            padding: .5rem 1rem !important
        }
    </style>
    <div class="search">
        <div class="container">
            <!-- Add Breadcrumbs Navigation Section -->
            <div class="breads">
                <h5 class="heading mt-6 leading-7">
                    <strong>Search the Corpus</strong>
                </h5>
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="{% url 'index:home' %}">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Search the corpus</li>
                    </ol>
                </nav>
            </div>
            <hr>

            <!-- start Search formsets -->
            <div class="search-field">
                <h2 class="show"></h2>
                {% if query_length|length < 2 %}
                <form method="get" id="main_search">
                    <div class="row search_repeated search_group">
                        <div class="col-lg-2 d-inline p-2 word_repeated">
                            <label class="choose_word" style="font-size: large; padding-top: 5px">Sentence or Word</label>
                        </div>
                        <!-- Filter -->
                        <div class="col-lg-2 d-inline p-2">
                            <select name="formsets_option" id="formsets_option" class="form-control">
                                {% if formsets_option == 'contains' %}
                                <option id="contains" value="contains" selected>contains</option>
                                {% else %}
                                <option id="contains" value="contains">contains</option>
                                {% endif %}

                                {% if formsets_option == 'start_with' %}
                                <option id="start_with" value="start_with" selected>start with</option>
                                {% else %}
                                <option id="start_with" value="start_with">start with</option>
                                {% endif %}

                                {% if formsets_option == 'is' %}
                                <option id="is" value="is" selected>is</option>
                                {% else %}
                                <option id="is" value="is">is</option>
                                {% endif %}

                                {% if formsets_option == 'end_with' %}
                                <option id="end_with" value="end_with" selected>end with</option>
                                {% else %}
                                <option id="end_with" value="end_with">end with</option>
                                {% endif %}
                            </select>
                        </div>

                        <div class="col-lg-4 d-inline p-2">
                            <input id="search_btn" type="text" class="form-control"
                                   onkeyup="if (this.value != ''){document.getElementById('clear').hidden=false} else {document.getElementById('clear').hidden=true}"
                                   placeholder="search" name="query" value="{{ request.GET.query }}">
                        </div>
                        <div class="col-lg-2 d-inline p-2">
                            <select name="verb_option" id="verb_option" class="form-control">
                                {% if verb_option == '' %}
                                <option value="" selected>Any POS</option>
                                {% else %}
                                <option value="">Any POS</option>
                                {% endif %}

                                {% if verb_option == 'Adj' %}
                                <option value="Adj" selected>Adjective</option>
                                {% else %}
                                <option value="Adj">Adjective</option>
                                {% endif %}

                                {% if verb_option == 'Adv' %}
                                <option value="Adv" selected>Adverb</option>
                                {% else %}
                                <option value="Adv">Adverb</option>
                                {% endif %}

                                {% if verb_option == 'Asp' %}
                                <option value="Asp" selected>Aspect Marker</option>
                                {% else %}
                                <option value="Asp">Aspect Marker</option>
                                {% endif %}

                                {% if verb_option == 'Cl' %}
                                <option value="Cl" selected>Classifier</option>
                                {% else %}
                                <option value="Cl">Classifier</option>
                                {% endif %}

                                {% if verb_option == 'Conj' %}
                                <option value="Conj" selected>Conjunction</option>
                                {% else %}
                                <option value="Conj">Conjunction</option>
                                {% endif %}

                                {% if verb_option == 'Det' %}
                                <option value="Det" selected>Determiner</option>
                                {% else %}
                                <option value="Det">Determiner</option>
                                {% endif %}

                                {% if verb_option == 'Idiom' %}
                                <option value="Idiom" selected>Idiom</option>
                                {% else %}
                                <option value="Idiom">Idiom</option>
                                {% endif %}

                                {% if verb_option == 'Intj' %}
                                <option value="Intj" selected>Interjection</option>
                                {% else %}
                                <option value="Intj">Interjection</option>
                                {% endif %}

                                {% if verb_option == 'Noun' %}
                                <option value="Noun" selected>Noun</option>
                                {% else %}
                                <option value="Noun">Noun</option>
                                {% endif %}

                                {% if verb_option == 'Num' %}
                                <option value="Num" selected>Number</option>
                                {% else %}
                                <option value="Num">Number</option>
                                {% endif %}

                                {% if verb_option == 'Ono' %}
                                <option value="Ono" selected>Onomatopoeia</option>
                                {% else %}
                                <option value="Ono">Onomatopoeia</option>
                                {% endif %}

                                {% if verb_option == 'Part' %}
                                <option value="Part" selected>Particle</option>
                                {% else %}
                                <option value="Part">Particle</option>
                                {% endif %}

                                {% if verb_option == 'Prep' %}
                                <option value="Prep" selected>Preposition</option>
                                {% else %}
                                <option value="Prep">Preposition</option>
                                {% endif %}

                                {% if verb_option == 'Pro' %}
                                <option value="Pro" selected>Pronoun</option>
                                {% else %}
                                <option value="Pro">Pronoun</option>
                                {% endif %}

                                {% if verb_option == 'Pu' %}
                                <option value="Pu" selected>Punctuation</option>
                                {% else %}
                                <option value="Pu">Punctuation</option>
                                {% endif %}

                                {% if verb_option == 'SFP' %}
                                <option value="SFP" selected>Sentence-Final Particle</option>
                                {% else %}
                                <option value="SFP">Sentence-Final Particle</option>
                                {% endif %}

                                {% if verb_option == 'Verb' %}
                                <option value="Verb" selected>Verb</option>
                                {% else %}
                                <option value="Verb">Verb</option>
                                {% endif %}

                                {% if verb_option == 'X' %}
                                <option value="X" selected>Unclassified</option>
                                {% else %}
                                <option value="X">Unclassified</option>
                                {% endif %}
                            </select>
                        </div>
                        <div style="align-self: center;font-size: 14px;color: #2f855a;" class="btn-plus col-lg-1 d-inline">
                            <div class="fa fa-plus d-inline"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <input type="submit" name="main_search" value="Search" class="btn btn-primary">
                            <a href="{% url 'search:search' %}" style="color: #c53030; margin-left: 10px;border: 0; background-color: transparent;cursor: pointer" id="clear" hidden>Clear Search</a>
                        </div>
                    </div>
                </form>
                {% else %}
                    <form method="get" id="main_search">
                        {% for q, formsets_option, verb_option in multiple_requests %}
                        <div class="row search_repeated search_group">
                            <div class="col-lg-2 d-inline p-2 word_repeated">
                                <label class="choose_word" style="font-size: large; padding-top: 5px">Sentence or Word</label>
                            </div>
                            <!-- Filter -->
                            <div class="col-lg-2 d-inline p-2">
                                <select name="formsets_option" id="formsets_option" class="form-control">
                                    {% if formsets_option == 'contains' %}
                                    <option id="contains" value="contains" selected>contains</option>
                                    {% else %}
                                    <option id="contains" value="contains">contains</option>
                                    {% endif %}

                                    {% if formsets_option == 'start_with' %}
                                    <option id="start_with" value="start_with" selected>start with</option>
                                    {% else %}
                                    <option id="start_with" value="start_with">start with</option>
                                    {% endif %}

                                    {% if formsets_option == 'is' %}
                                    <option id="is" value="is" selected>is</option>
                                    {% else %}
                                    <option id="is" value="is">is</option>
                                    {% endif %}

                                    {% if formsets_option == 'end_with' %}
                                    <option id="end_with" value="end_with" selected>end with</option>
                                    {% else %}
                                    <option id="end_with" value="end_with">end with</option>
                                    {% endif %}
                                </select>
                            </div>

                            <div class="col-lg-4 d-inline p-2">
                                <input id="search_btn" type="text" class="form-control"
                                       onkeyup="if (this.value != ''){document.getElementById('clear').hidden=false} else {document.getElementById('clear').hidden=true}"
                                       placeholder="search" name="query" value="{{ q }}">
                            </div>
                            <div class="col-lg-2 d-inline p-2">
                                <select name="verb_option" id="verb_option" class="form-control">
                                    {% if verb_option == '' %}
                                    <option value="" selected>Any POS</option>
                                    {% else %}
                                    <option value="">Any POS</option>
                                    {% endif %}

                                    {% if verb_option == 'Adj' %}
                                    <option value="Adj" selected>Adjective</option>
                                    {% else %}
                                    <option value="Adj">Adjective</option>
                                    {% endif %}

                                    {% if verb_option == 'Adv' %}
                                    <option value="Adv" selected>Adverb</option>
                                    {% else %}
                                    <option value="Adv">Adverb</option>
                                    {% endif %}

                                    {% if verb_option == 'Asp' %}
                                    <option value="Asp" selected>Aspect Marker</option>
                                    {% else %}
                                    <option value="Asp">Aspect Marker</option>
                                    {% endif %}

                                    {% if verb_option == 'Cl' %}
                                    <option value="Cl" selected>Classifier</option>
                                    {% else %}
                                    <option value="Cl">Classifier</option>
                                    {% endif %}

                                    {% if verb_option == 'Conj' %}
                                    <option value="Conj" selected>Conjunction</option>
                                    {% else %}
                                    <option value="Conj">Conjunction</option>
                                    {% endif %}

                                    {% if verb_option == 'Det' %}
                                    <option value="Det" selected>Determiner</option>
                                    {% else %}
                                    <option value="Det">Determiner</option>
                                    {% endif %}

                                    {% if verb_option == 'Idiom' %}
                                    <option value="Idiom" selected>Idiom</option>
                                    {% else %}
                                    <option value="Idiom">Idiom</option>
                                    {% endif %}

                                    {% if verb_option == 'Intj' %}
                                    <option value="Intj" selected>Interjection</option>
                                    {% else %}
                                    <option value="Intj">Interjection</option>
                                    {% endif %}

                                    {% if verb_option == 'Noun' %}
                                    <option value="Noun" selected>Noun</option>
                                    {% else %}
                                    <option value="Noun">Noun</option>
                                    {% endif %}

                                    {% if verb_option == 'Num' %}
                                    <option value="Num" selected>Number</option>
                                    {% else %}
                                    <option value="Num">Number</option>
                                    {% endif %}

                                    {% if verb_option == 'Ono' %}
                                    <option value="Ono" selected>Onomatopoeia</option>
                                    {% else %}
                                    <option value="Ono">Onomatopoeia</option>
                                    {% endif %}

                                    {% if verb_option == 'Part' %}
                                    <option value="Part" selected>Particle</option>
                                    {% else %}
                                    <option value="Part">Particle</option>
                                    {% endif %}

                                    {% if verb_option == 'Prep' %}
                                    <option value="Prep" selected>Preposition</option>
                                    {% else %}
                                    <option value="Prep">Preposition</option>
                                    {% endif %}

                                    {% if verb_option == 'Pro' %}
                                    <option value="Pro" selected>Pronoun</option>
                                    {% else %}
                                    <option value="Pro">Pronoun</option>
                                    {% endif %}

                                    {% if verb_option == 'Pu' %}
                                    <option value="Pu" selected>Punctuation</option>
                                    {% else %}
                                    <option value="Pu">Punctuation</option>
                                    {% endif %}

                                    {% if verb_option == 'SFP' %}
                                    <option value="SFP" selected>Sentence-Final Particle</option>
                                    {% else %}
                                    <option value="SFP">Sentence-Final Particle</option>
                                    {% endif %}

                                    {% if verb_option == 'Verb' %}
                                    <option value="Verb" selected>Verb</option>
                                    {% else %}
                                    <option value="Verb">Verb</option>
                                    {% endif %}

                                    {% if verb_option == 'X' %}
                                    <option value="X" selected>Unclassified</option>
                                    {% else %}
                                    <option value="X">Unclassified</option>
                                    {% endif %}
                                </select>
                            </div>
                            <div style="align-self: center;font-size: 14px;color: #2f855a;" class="btn-plus col-lg-1 d-inline">
                                <div class="fa fa-plus d-inline"></div>
                            </div>
                        </div>
                        {% endfor %}
                        <div class="out_search_group">

                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <input type="submit" name="main_search" value="Search" class="btn btn-primary">
                                <a href="{% url 'search:search' %}" style="color: #c53030; margin-left: 10px;border: 0; background-color: transparent;cursor: pointer" id="clear" hidden>Clear Search</a>
                            </div>
                        </div>
                    </form>
                {% endif %}
            </div>
            <!-- end Search formsets -->
            {% if "query" in request.GET %}
            <!-- Taping Section -->
            <div class="intro-tap mt-6">
                <ul class="nav nav-tabs" role="tablist">
                    {% if sentences.paginator.count != 0 %}
                        {% if sentences.paginator.count %}
                        <li class="nav-item">
                            <a class="nav-link active" href="#sentence" role="tab" data-toggle="tab">Sentence
                                ({{ sentences.paginator.count }})
                            </a>
                        </li>
                        {% else %}
                        <li class="nav-item">
                            <a class="nav-link active" href="#sentence" role="tab" data-toggle="tab">
                                Sentence ({{ sentences.count }})
                            </a>
                        </li>
                        {% endif %}
                    {% endif %}

                    {% if words.paginator.count != 0 %}
                        {% if multipleSearch is None %}
                            {% if words.paginator.count %}
                            <li class="nav-item">
                                <a class="nav-link" href="#word" role="tab" data-toggle="tab">
                                    Words ({{ words.paginator.count }})
                                </a>
                            </li>
                            {% else %}
                            <li class="nav-item">
                                <a class="nav-link" href="#word" role="tab" data-toggle="tab">
                                    Words ({{ words.count }})
                                </a>
                            </li>
                            {% endif %}
                        {% else %}
                            <li class="nav-item">
                                <a class="nav-link" href="#word" role="tab" data-toggle="tab">
                                    Words (0)
                                </a>
                            </li>
                        {% endif %}
                    {% endif %}
                </ul>

                <!-- Start tab panes -->
                <div class="tab-content mt-6">
                    <!-- sentence tab body -->

                    <div role="tabpanel" class="tab-pane in active" id="sentence">
                        <div class="row">
                            <div class="col-lg-3 col-md-4">
                                {% include 'search/filter.html' %}
                            </div>
                            {% if sentences.paginator.count %}
                            <!-- Body of search of corpus page -->
                            <div class="col-lg-9 col-md-8">
                                <!-- Pagination -->
                                <span class="record-number">Showing
                                    {% if sentences.number == 1 %}
                                        {{sentences.number}} to
                                        {% if sentences.paginator.count < 20 %}
                                            {{ sentences.paginator.count }}
                                        {% else %}
                                            {{sentences.number|mul:20}}
                                        {% endif %}
                                    {% else %}
                                        {{sentences.number|sub:1|mul:20|add:1}} to
                                        {% if sentences.paginator.count < 20 %}
                                            {{ sentences.paginator.count }}
                                        {% else %}
                                            {{sentences.number|mul:20}}
                                        {% endif %}
                                    {% endif %}
                                    of {{ sentences.paginator.count }} records</span>
                                {% if sentences.paginator.count > 20 %}
                                    {% include 'search/pager.html' %}
                                {% endif %}
                                <!-- sentence table -->
                                {% for sentence in sentences %}
                                <div class="sentence-details mt-6">
                                    <table>
                                        <tbody>
                                            <tr>
                                                <td class="td-counter">{{ sentences.start_index|add:forloop.counter0 }}.</td>
                                                <td>
                                                    <table class="w-full">
                                                        <tbody>
                                                        <tr>
                                                            <td class="font-medium w-12 pr-8">
                                                                <strong>Actor:</strong>
                                                            </td>
                                                            {% for actor in filter.actors %}
                                                                {% if actor.id == sentence.actor_id %}
                                                                    <td>
                                                                        {{ actor.name_en }} / {{ actor.name_zh }} ({{ actor.code }})
                                                                        [{% if actor.gender == 0 %}
                                                                                female
                                                                            {% else %}
                                                                                male
                                                                            {% endif %}
                                                                            {% if actor.age == 0 %}
                                                                                adult
                                                                            {% elif actor.age == 1 %}
                                                                                child
                                                                            {% else %}
                                                                                teenager
                                                                            {% endif %}]
                                                                    </td>
                                                                {% endif %}
                                                            {% endfor %}
                                                            <td class="align-top w-32" rowspan="2">
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="font-medium w-12 pr-8">
                                                                <strong>Film:</strong>
                                                            </td>
                                                            {% for film in filter.films %}
                                                                {% if film.id == sentence.film_id %}
                                                                <td>
                                                                    {{ film.name_en }} / {{ film.name_zh }} ({{ film.year }}) @
                                                                    {{ sentence.converter_time_start }} - {{ sentence.converter_time_end }}
                                                                    {% if sentence.media_part != '\N' %}
                                                                        ({{ sentence.media_part }})
                                                                    {% endif %}
                                                                    [{{ sentence.media_code }}]
                                                                </td>
                                                                {% endif %}
                                                            {% endfor %}
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                    <div class="mt-3">
                                                        <div class="text-lg">{{ sentence.orth }}</div>
                                                    </div>
                                                    <div class="mt-3">
                                                        <div class="Annotation">
                                                            <div class="flex flex-wrap ml">
                                                                <div class="row">
                                                                    {% for orth, tag, pron in sentence.annot_str.context %}
                                                                    <div class="orth-package col-xs-12">
                                                                        <div class="col-xs-2">
                                                                            {% if orth != '' %}
                                                                            <a class="text-blue-700 char_orth" href="{% url 'search:details' orth %}?query={{ orth }}&formsets_option=contains&verb_option={{ tag }}&jyutping={{ pron }}">
                                                                                <span class="text-lg">{{ orth }}</span>
                                                                            </a>
                                                                            {% else %}
                                                                            <a class="text-blue-700 char_orth" href="{% url 'search:details' 'узм' %}?query={{ 'узм' }}&formsets_option=contains&verb_option={{ tag }}&jyutping={{ pron }}">
                                                                                <span class="text-lg">{{ orth }}</span>
                                                                            </a>
                                                                            {% endif %}
                                                                        </div>
                                                                        <div class="col-xs-2">
                                                                            {% if pron != '-' %}
                                                                                <span class="annot-func">{{ pron }}</span>
                                                                            {% endif %}
                                                                        </div>
                                                                        <div style="display: inline-block" class="col-xs-2">
                                                                            {% if tag != 'Pu' %}
                                                                                <span class="annot-func text-grey-700">{{ tag }}</span>
                                                                            {% endif %}
                                                                        </div>
                                                                    </div>
                                                                    {% endfor %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                {% endfor %}
                                <!-- Pagination -->
                                {% if sentences.paginator.count > 20 %}
                                    {% include 'search/pager.html' %}
                                {% endif %}
                            </div>
                            {% else %}
                            <div role="tabpanel" class="tab-pane in active" id="sentence">
                                <p>No results were found. Please adjust the search criteria and try again.</p>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    <!-- Word tab body -->
                    {% if words.paginator.count %}
                    <div role="tabpanel" class="tab-pane" id="word">
                        <div class="words">
                            <div class="row">
                                <div class="col-md-12">
                                    {% if words.count != 0 %}
                                    <!-- Words Table Section -->
                                    <div class="common-words">
                                        <!-- Pagination -->
                                        <span style="margin-bottom: 2rem" class="record-number">Showing
                                            {% if words.number == 1 %}
                                                {{words.number}} to
                                                {% if words.paginator.count < 50 %}
                                                    {{ words.paginator.count }}
                                                {% else %}
                                                    {{words.number|mul:50}}
                                                {% endif %}
                                            {% else %}
                                                {{words.number|sub:1|mul:50|add:1}} to
                                                {% if words.paginator.count < 50 %}
                                                    {{ words.paginator.count }}
                                                {% else %}
                                                    {{words.number|mul:50}}
                                                {% endif %}
                                            {% endif %}
                                            of {{ words.paginator.count }} records
                                        </span>
                                        {% if words.paginator.count > 50 %}
                                        {% include 'search/pager_words.html' %}
                                        {% endif %}
                                        <table class="Table">
                                            <thead>
                                                <tr>
                                                    <th>Frequency</th>
                                                    <th>Orthographic Form</th>
                                                    <th>Jyutping</th>
                                                    <th>POS Tag</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {% for word in words %}
                                                    <tr>
                                                        <td>
                                                            {{ word.freq }}
                                                        </td>
                                                        <td>
                                                            {% if word.orth != '' %}
                                                            <a class="text-blue-700 char_orth" href="{% url 'search:details' word.orth %}?query={{ word.orth }}&formsets_option=contains&verb_option={{ word.tag }}&jyutping={{ word.pron }}">
                                                                <span class="">{{ word.orth }}</span>
                                                            </a>
                                                            {% else %}
                                                            <a class="text-blue-700 char_orth" href="{% url 'search:details' 'узм' %}?query={{ 'узм' }}&formsets_option=contains&verb_option={{ word.tag }}&jyutping={{ word.tag }}">
                                                                <span class="">{{ word.orth }}</span>
                                                            </a>
                                                            {% endif %}
                                                        </td>
                                                        <td>
                                                            {{ word.pron }}
                                                        </td>
                                                        <td>
                                                            {% if word.tag == 'Pro' %}
                                                                Pronoun
                                                            {% elif word.tag == 'Verb' %}
                                                                Verb
                                                            {% elif word.tag == 'Adv' %}
                                                                Adverb
                                                            {% elif word.tag == 'SFP' %}
                                                                Sentence-Final Particle
                                                            {% elif word.tag == 'Cl' %}
                                                                Classifier
                                                            {% elif word.tag == 'Part' %}
                                                                Particle
                                                            {% elif word.tag == 'Adj' %}
                                                                Adjective
                                                            {% elif word.tag == 'Det' %}
                                                                Determiner
                                                            {% elif word.tag == 'Asp' %}
                                                                Aspect Marker
                                                            {% elif word.tag == 'Intj' %}
                                                                Interjection
                                                            {% elif word.tag == 'Num' %}
                                                                Number
                                                            {% elif word.tag == 'Noun' %}
                                                                Noun
                                                            {% elif word.tag == 'Prep' %}
                                                                Preposition
                                                            {% elif word.tag == 'Conj' %}
                                                                Conjunction
                                                            {% elif word.tag == "Pu" %}
                                                                Punctuation
                                                            {% else %}
                                                                {{ word.tag }}
                                                            {% endif %}
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table><br><br>
                                    <!-- Pagination -->
                                    {% if words.paginator.count > 50 %}
                                    {% include 'search/pager_words.html' %}
                                    {% endif %}
                                </div>
{#                                    {% else %}#}
{#                                        <p class="mt-6">No results were found. Please adjust the search criteria and try again.</p>#}
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
{#                        {% else %}#}
{#                        <div role="tabpanel" class="tab-pane in active" id="word">#}
{#                            <p>No results were found. Please adjust the search criteria and try again.</p>#}
{#                        </div>#}
                    {% endif %}
                </div>
                <!-- End tab panes -->
            </div>
            {% endif %}
        </div>
    </div>
    <script type="text/javascript">
    $(document).ready(function() {
        let search_group = $(".search_group")
        let out_search_group = $(".out_search_group")

        let create_times_parent = document.createElement("div")
        create_times_parent.classList.add("btn-times", "col-lg-1", "d-inline")
        let create_times = document.createElement("div")
        //added on extra class here..
        create_times.classList.add("fa", "fa-times", "d-inline", "remove")
        create_times_parent.appendChild(create_times)

        let sentence_or_word = $(".choose_word");
        let inc = 0;

        // field number just one field
        if (search_group.length < 2 && search_group.length > 0) {
            $(document).on('click', '.btn-plus', function () {
                $("div.search_group:first-of-type").after(search_group.clone(true, true));
                search_group.addClass('created')
                search_group.append(create_times_parent)
            });

            //onclick of remove..
            $(document).on("click", ".remove", function () {
                $(this).closest('.created').remove();
            })
            // field number more than one field
        } else {
            search_group.append(create_times_parent)
            if (search_group.first().children('.btn-times')) {
                search_group.first().children('.btn-times').css('visibility', 'hidden')
            }
            $(document).on('click', '.btn-plus', function () {
                if ($(this).siblings('.btn-times').css("visibility") !== "hidden") {
                    let search_cloned = $(this).parent('.search_repeated').clone(true, true);
                    search_cloned.addClass('created');
                    let word_sentence_label = search_cloned.children('.word_repeated').children('label.choose_word');
                    if (inc > 1) {
                        inc += 1;
                        word_sentence_label.text("Word " + inc);
                    } else {
                        inc = 1;
                    }
                    $("div.out_search_group").after(search_cloned);
                } else {
                    let search_cloned = $(this).parent('.search_repeated').clone(true, true);
                    search_cloned.children('.btn-times').addClass('visible');
                    console.log(search_cloned.children('.btn-times'));
                    search_cloned.addClass('created');
                    $("div.out_search_group").after(search_cloned);
                }
            });
            //onclick of remove..
            $(document).on("click", ".remove", function () {
                $(this).parent('.btn-times').parent('.search_repeated').remove();
                inc -= 1;
                console.log(sentence_or_word.length);
                if (inc === 1) {
                    sentence_or_word.textContent = "Sentence or word";
                }
            })
        }

        // when page is ready
        {#while (i >= inc) {#}
        {#    inc += 1;#}
        {#sentence_or_word.textContent = "Word " + inc;#}
        {#    sentence_or_word.text("Word " + inc);#}
        //}
        for (sent_word of sentence_or_word) {
            if (sentence_or_word.length > 1) {
                inc += 1;
                sent_word.textContent = "Word " + inc;
            } else {
                inc = 1;
                sent_word.textContent = "Sentence or word";
            }
        }
        $(document).on('click', function () {
            if (inc === 1) {
                sentence_or_word.text("Sentence or word");
            }
        })
    });
    </script>
{% endblock %}